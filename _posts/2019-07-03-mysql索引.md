---
layout:     post
title:      mysql索引
subtitle:   mysql索引
date:       2019-07-03
author:     gregorius
header-img: img/post-bg-swift.jpg
catalog: true
tags:
    - 数据库
---


### mysql 不同引擎索引组织方式不同

MyISAM存储引擎，MyISAM引擎使用B+Tree作为索引结构，叶节点的data域存放的是数据记录的地址;InnoDB存储引擎，InnoDB是事务型数据库的首选引擎，支持事务安全表（ACID），支持行锁定和外键，InnoDB存储引擎为在主内存中缓存数据和索引而维持它自己的缓冲池。InnoDB将它的表和索引在一个逻辑表空间中，表空间可以包含数个文件（或原始磁盘文件）。这与MyISAM表不同，比如在MyISAM表中每个表被存放在分离的文件中。

当然还有其他引擎，我们只对主流的引擎进行比较

### 索引结构与算法

从大学的课本我们就知道二叉树的算法可以用于索引检索，但是只有B+树最适合用来作为索引的算法，目前主流的数据库都采用B+ 树索引。原因如下：

- B+ 树在2-4层之间，所以进行索引扫描时磁盘摆动不会太大，加载起来比较快，检索速度快
- B+ 树的数据都在叶子结点，并且都是有序的，这样便于进行磁盘预读，同时在索引扫描时避免排序
  
### 聚集索引和非聚集索引

聚集索引就是通过主键来组织的索引，非聚集索引为非主键索引，要查找时先找到二级索引，然后通过二级索引查找聚集索引，最后通过聚集索引来检索数据
